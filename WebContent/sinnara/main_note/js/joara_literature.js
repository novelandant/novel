function doFavorite(e,t){$(document).ready(function(){if(t==undefined){t="book"}if($("#btn_favorite_"+e).attr("is_favorite")=="false"){if(t=="book"){addBookFavorite(e)}else if(t=="webtoon"){addWebtoonFavorite(e)}}else if($("#btn_favorite_"+e).attr("is_favorite")=="true"){if(t=="book"){delBookFavorite(e)}else if(t=="webtoon"){delWebtoonFavorite(e)}}})}function doWebtoonFavorite2(e,t){if(t==undefined){t=1}$(document).ready(function(){if($("#btn_favorite_"+e).attr("is_favorite")=="false"){addWebtoonFavorite2(e,t)}else if($("#btn_favorite_"+e).attr("is_favorite")=="true"){delWebtoonFavorite2(e)}})}function addWebtoonFavorite2(e,t){$(document).ready(function(){$.ajax({type:"POST",url:"/modules/json/webtoon_favorite.php",dataType:"json",data:{mode:"register",book_code:e,sortno:t},success:function(t){favoriteResult2(t,e)}})})}function addWebtoonFavorite3(e,t){$(document).ready(function(){$.ajax({type:"POST",url:"/modules/json/webtoon_favorite.php",dataType:"json",data:{mode:"bookmark",book_code:e,book_sortno:t},success:function(t){favoriteResult2(t,e)}})})}function favoriteResult2(e,t){var n="";favorite_display=$("#btn_favorite_"+t).attr("favorite_display");if(e.is_favorite==true){if(favorite_display=="1"){$("#btn_favorite_"+t).attr("is_favorite","true");$("#btn_favorite_"+t).html('<img src="/images/common/btn/btn_style_g5.gif" alt="선호작 삭제">');$("#btn_favorite__"+t).attr("is_favorite","true");$("#btn_favorite__"+t).html('<img src="/images/common/btn/btn_style_g5.gif" alt="선호작 삭제">');$("#btn_bookmark_"+t).html('<img src="/images/common/btn/btn_style_g2.gif" alt="책갈피">');$("#btn_bookmark__"+t).html('<img src="/images/common/btn/btn_style_g2.gif" alt="책갈피">')}else if(favorite_display=="2"){$("#btn_favorite_"+t).attr("is_favorite","true");$("#btn_favorite_"+t).html("선호작 삭제");$("#btn_favorite__"+t).attr("is_favorite","true");$("#btn_favorite__"+t).html("선호작 삭제")}}else if(e.is_favorite==false){if(favorite_display=="1"){$("#btn_favorite_"+t).attr("is_favorite","false");$("#btn_favorite_"+t).html('<img src="/images/common/btn/btn_style_g3.gif" alt="선호작 등록">');$("#btn_favorite__"+t).attr("is_favorite","false");$("#btn_favorite__"+t).html('<img src="/images/common/btn/btn_style_g3.gif" alt="선호작 등록">');$("#btn_bookmark_"+t).html('<img src="/images/common/btn/btn_style_g2_1.gif" alt="책갈피">');$("#btn_bookmark__"+t).html('<img src="/images/common/btn/btn_style_g2_1.gif" alt="책갈피">')}else if(favorite_display=="2"){$("#btn_favorite_"+t).attr("is_favorite","false");$("#btn_favorite_"+t).html("선호작 등록");$("#btn_favorite__"+t).attr("is_favorite","false");$("#btn_favorite__"+t).html("선호작 등록")}}alert(e.msg)}function doWebtoonBookMark(e,t){addWebtoonFavorite3(e,t)}function addBookFavorite(e){$(document).ready(function(){$.ajax({type:"POST",url:"/modules/json/book_favorite.php",dataType:"json",data:{mode:"register",book_code:e},success:function(t){if(t.result==true)favoriteResult(t,e);else alert(t.msg)}})})}function delBookFavorite(e){$(document).ready(function(){if(confirm("정말 선호작에서 삭제하시겠습니까?")){$.ajax({type:"POST",url:"/modules/json/book_favorite.php",dataType:"json",data:{mode:"delete",book_code:e},success:function(t){if(t.result==true)favoriteResult(t,e);else alert(t.msg)}})}})}function favoriteResult(e,t){var n="";favorite_display=$("#btn_favorite_"+t).attr("favorite_display");if(e.is_favorite==true){n=trim($("#btn_favorite_"+t).html());if(n=="선호작 등록"){$("#btn_favorite_"+t).attr("is_favorite","true");$("#btn_favorite_"+t).text("선호작 삭제")}else if(n=="<span>선호작 등록</span>"){$("#btn_favorite_"+t).attr("is_favorite","true");$("#btn_favorite_"+t).html("<span>선호작 삭제</span>")}else if(n=='<img src="/images/content/work/btn_pref_regi.gif" alt="선호작 등록">'||n=='<img alt="선호작 등록" src="/images/content/work/btn_pref_regi.gif">'){$("#btn_favorite_"+t).attr("is_favorite","true");$("#btn_favorite_"+t).html('<img src="/images/content/work/btn_pref_del.gif" alt="선호작 삭제">')}else{if(favorite_display=="1"){$("#btn_favorite_"+t).attr("is_favorite","true");$("#btn_favorite_"+t).text("선호작 삭제")}else if(favorite_display=="2"){$("#btn_favorite_"+t).attr("is_favorite","true");$("#btn_favorite_"+t).html("<span>선호작 삭제</span>")}else if(favorite_display=="3"){$("#btn_favorite_"+t).attr("is_favorite","true");$("#btn_favorite_"+t).html('<img src="/images/content/work/btn_pref_del.gif" alt="선호작 삭제">')}else if(favorite_display=="4"){$("#btn_favorite_"+t).attr("is_favorite","true");$("#btn_favorite_"+t).html('<img src="/images/common/ico/ico_star_pink.gif" class="ico_r01" alt="선호작 삭제">')}else if(favorite_display=="5"){$("#btn_favorite_"+t).attr("is_favorite","true");$("#btn_favorite_"+t).html('<img src="/images/common/ico/ico_heart_pink.gif" class="ico_r01" alt="선호작 삭제">')}else if(favorite_display=="6"){$("#btn_favorite_"+t).attr("is_favorite","true");$("#btn_favorite_"+t).html('<img src="/images/common/btn/btn_style_g5.gif" alt="선호작 삭제">');$("#btn_favorite__"+t).attr("is_favorite","true");$("#btn_favorite__"+t).html('<img src="/images/common/btn/btn_style_g5.gif" alt="선호작 삭제">');$("#btn_bookmark_"+t).html('<img src="/images/common/btn/btn_style_g2.gif" alt="책갈피">');$("#btn_bookmark__"+t).html('<img src="/images/common/btn/btn_style_g2.gif" alt="책갈피">')}else if(favorite_display=="7"){$("#btn_favorite_"+t).attr("is_favorite","true");$("#btn_favorite_"+t).html('<img src="/images/common/btn/btn_updel_sn.gif" alt="선호작 삭제">')}}}else if(e.is_favorite==false){n=trim($("#btn_favorite_"+t).html());if(n=="선호작 삭제"){$("#btn_favorite_"+t).attr("is_favorite","false");$("#btn_favorite_"+t).html("선호작 등록")}else if(n=="<span>선호작 삭제</span>"){$("#btn_favorite_"+t).attr("is_favorite","false");$("#btn_favorite_"+t).html("<span>선호작 등록</span>")}else if(n=='<img src="/images/content/work/btn_pref_del.gif" alt="선호작 삭제">'||n=='<img alt="선호작 삭제" src="/images/content/work/btn_pref_del.gif">'){$("#btn_favorite_"+t).attr("is_favorite","false");$("#btn_favorite_"+t).html('<img src="/images/content/work/btn_pref_regi.gif" alt="선호작 등록">')}else{if(favorite_display=="1"){$("#btn_favorite_"+t).attr("is_favorite","false");$("#btn_favorite_"+t).html("선호작 등록")}else if(favorite_display=="2"){$("#btn_favorite_"+t).attr("is_favorite","false");$("#btn_favorite_"+t).html("<span>선호작 등록</span>")}else if(favorite_display=="3"){$("#btn_favorite_"+t).attr("is_favorite","false");$("#btn_favorite_"+t).html('<img src="/images/content/work/btn_pref_regi.gif" alt="선호작 등록">')}else if(favorite_display=="4"){$("#btn_favorite_"+t).attr("is_favorite","false");$("#btn_favorite_"+t).html('<img src="/images/common/ico/ico_star_gray.gif" class="ico_r01" alt="선호작 등록">')}else if(favorite_display=="5"){$("#btn_favorite_"+t).attr("is_favorite","false");$("#btn_favorite_"+t).html('<img src="/images/common/ico/ico_heart_gray.gif" class="ico_r01" alt="선호작 등록">')}else if(favorite_display=="5"){$("#btn_favorite_"+t).attr("is_favorite","false");$("#btn_favorite_"+t).html('<img src="/images/common/ico/ico_heart_gray.gif" class="ico_r01" alt="선호작 등록">')}else if(favorite_display=="6"){$("#btn_favorite_"+t).attr("is_favorite","false");$("#btn_favorite_"+t).html('<img src="/images/common/btn/btn_style_g3.gif" alt="선호작 등록">');$("#btn_favorite__"+t).attr("is_favorite","false");$("#btn_favorite__"+t).html('<img src="/images/common/btn/btn_style_g3.gif" alt="선호작 등록">');$("#btn_bookmark_"+t).html('<img src="/images/common/btn/btn_style_g2_1.gif" alt="책갈피">');$("#btn_bookmark__"+t).html('<img src="/images/common/btn/btn_style_g2_1.gif" alt="책갈피">')}else if(favorite_display=="7"){$("#btn_favorite_"+t).attr("is_favorite","false");$("#btn_favorite_"+t).html('<img src="/images/common/btn/btn_upload_sn.gif" alt="선호작 등록">')}}}alert(e.msg)}function addWebtoonFavorite(e){$(document).ready(function(){$.ajax({type:"POST",url:"/modules/json/webtoon_favorite.php",dataType:"json",data:{mode:"register",book_code:e},success:function(t){if(t.result==true)favoriteResult(t,e);else alert(t.msg)}})})}function delWebtoonFavorite(e){$(document).ready(function(){if(confirm("정말 선호작에서 삭제하시겠습니까?")){$.ajax({type:"POST",url:"/modules/json/webtoon_favorite.php",dataType:"json",data:{mode:"delete",book_code:e},success:function(t){if(t.result==true)favoriteResult(t,e);else alert(t.msg)}})}})}function delWebtoonFavorite2(e){$(document).ready(function(){if(confirm("정말 선호작에서 삭제하시겠습니까?")){$.ajax({type:"POST",url:"/modules/json/webtoon_favorite.php",dataType:"json",data:{mode:"delete",book_code:e},success:function(t){if(t.result==true)favoriteResult2(t,e);else alert(t.msg)}})}})}function readBook(e,t,n,r){var i=0,s=0;if(r==undefined){r="book"}if(e==0){alert("book_code가 필요합니다.");return false}if(t==undefined){alert("함수오류:sortno_obj가 존재하지 않았습니다.");return false}if(t.tagName=="INPUT"){s=t.value}else{for(i=t.length;i>0;i--){if(t[i-1].selected==true){s=t[i-1].value;break}}}if(s==""){alert("편수를 선택해 주세요.");return false}if(s==0){alert("편수를 선택해 주세요.");return false}var o="";if(r=="webtoon_renew"){page_url="book_view.html"}else if(r=="webtoon"){page_url="/webtoon/book_view.html"}else if(r=="gongmo_literature"){page_url="literature_view.html"}else if(r=="gongmo_webtoon"){page_url="webtoon_view.html"}else if(r=="premium"){page_url="/premium_new/book_view.html"}else{page_url="/literature/view/book_view.html"}page_url+="?book_code="+e+"&sortno="+s;if(n!=""&&n!=undefined){page_url+="&"+n}document.location.href=page_url}function readBookIntro(e,t){if(e==""){return false}if(t==undefined){t="book"}if(t=="book"){location.href="/literature/view/book_intro.html?book_code="+e}else if(t=="webtoon"){location.href="/literature/webtoon/book_intro.html?book_code="+e}}function modifyBook(e,t,n,r){var i=0,s=0;if(r==undefined){r="book"}if(e==0){alert("book_code가 필요합니다.");return false}if(t==undefined){alert("함수오류:sortno_obj가 존재하지 않았습니다.");return false}for(i=t.length;i>0;i--){if(t[i-1].selected==true){s=t[i-1].value;break}}if(s==""){alert("편수를 선택해 주세요.");return false}if(s==0){alert("편수를 선택해 주세요.");return false}var o="";if(r=="webtoon"){page_url="/mypage/notebook/webtoon_part_write.html"}else if(r=="gongmo_literature"){page_url="/mypage/notebook/gongmo_literature_part_write.html"}else if(r=="gongmo_webtoon"){page_url="/mypage/notebook/gongmo_webtoon_part_write.html"}else{page_url="/mypage/notebook/literature_part_write.html"}page_url+="?book_code="+e+"&sortno="+s;if(n!=""&&n!=undefined){page_url+="&"+n}document.location.href=page_url}function finishRecom(e){$(document).ready(function(){$.ajax({type:"POST",url:"/modules/json/finish_recom.php",dataType:"json",data:{mode:"register",book_code:e},success:function(e){alert(e.msg);if(e.result==true){$("#finish_recom_count").text(number_format(e.finish_recom))}}})})}